<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>æŠ€æœ¯å®è·µ on Code Whispers</title><link>https://jackypanster.github.io/ai-stream/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/</link><description>Recent content in æŠ€æœ¯å®è·µ on Code Whispers</description><generator>Hugo -- 0.148.1</generator><language>zh-cn</language><lastBuildDate>Wed, 04 Jun 2025 14:30:00 +0800</lastBuildDate><atom:link href="https://jackypanster.github.io/ai-stream/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/index.xml" rel="self" type="application/rss+xml"/><item><title>Qwen3-30B æŠ€æœ¯ä¼˜åŒ–å®è·µï¼ˆäºŒï¼‰ï¼šæ€è€ƒæ¨¡å¼æ§åˆ¶ä¸15-20%æ€§èƒ½æå‡</title><link>https://jackypanster.github.io/ai-stream/posts/deploy-qwen3-part2/</link><pubDate>Wed, 04 Jun 2025 14:30:00 +0800</pubDate><guid>https://jackypanster.github.io/ai-stream/posts/deploy-qwen3-part2/</guid><description>&lt;h1 id="qwen3-30b-æŠ€æœ¯ä¼˜åŒ–å®è·µäºŒæ€è€ƒæ¨¡å¼æ§åˆ¶ä¸æ€§èƒ½æå‡">Qwen3-30B æŠ€æœ¯ä¼˜åŒ–å®è·µï¼ˆäºŒï¼‰ï¼šæ€è€ƒæ¨¡å¼æ§åˆ¶ä¸æ€§èƒ½æå‡&lt;/h1>
&lt;blockquote>
&lt;p>æœ¬æ–‡æ˜¯&lt;a href="blog-post.md">ã€Šä»32Kåˆ°131Kï¼šQwen3-30Bå¤§æ¨¡å‹ä¸Šä¸‹æ–‡æ‰©å±•å®è·µã€‹&lt;/a>çš„ç»­ç¯‡ï¼Œèšç„¦äºæ¨¡å‹æ€§èƒ½è°ƒä¼˜ç‰¹åˆ«æ˜¯æ€è€ƒæ¨¡å¼ï¼ˆreasoning modeï¼‰æ§åˆ¶çš„æŠ€æœ¯ç»†èŠ‚ä¸å®è·µç»éªŒã€‚&lt;/p>&lt;/blockquote>
&lt;p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨YaRNæŠ€æœ¯å°†Qwen3-30Bçš„ä¸Šä¸‹æ–‡é•¿åº¦ä»32Kæ‰©å±•åˆ°131Kã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦ä¸€ä¸ªå…³é”®ä¼˜åŒ–ç»´åº¦ï¼š&lt;strong>æ€è€ƒæ¨¡å¼æ§åˆ¶&lt;/strong>åŠå…¶å¯¹æ€§èƒ½çš„å½±å“ã€‚é€šè¿‡ä¸€ç³»åˆ—å®éªŒå’Œè°ƒä¼˜ï¼Œæˆ‘ä»¬å‘ç°ç¦ç”¨æ€è€ƒæ¨¡å¼å¯ä»¥æ˜¾è‘—æå‡æ¨¡å‹å“åº”é€Ÿåº¦å’Œå†…å­˜æ•ˆç‡ï¼Œç‰¹åˆ«é€‚åˆç¼–ç¨‹å’Œç›´æ¥è¾“å‡ºç±»ä»»åŠ¡åœºæ™¯ã€‚&lt;/p>
&lt;h2 id="-æ€è€ƒæ¨¡å¼reasoning-modeè§£æ">ğŸ” æ€è€ƒæ¨¡å¼ï¼ˆReasoning Modeï¼‰è§£æ&lt;/h2>
&lt;h3 id="ä»€ä¹ˆæ˜¯æ€è€ƒæ¨¡å¼">ä»€ä¹ˆæ˜¯æ€è€ƒæ¨¡å¼ï¼Ÿ&lt;/h3>
&lt;p>æ€è€ƒæ¨¡å¼ï¼ˆReasoning Modeï¼Œä¹Ÿç§°ä¸ºThinking Modeï¼‰æ˜¯Qwen3ç³»åˆ—æ¨¡å‹çš„ä¸€ä¸ªç‰¹æ€§ï¼Œè®©æ¨¡å‹èƒ½å¤Ÿç”Ÿæˆä¸­é—´æ€è€ƒæ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤è¢«åŒ…å«åœ¨&lt;code>&amp;lt;think&amp;gt;...&amp;lt;/think&amp;gt;&lt;/code>æ ‡ç­¾å†…ã€‚ç†è®ºä¸Šï¼Œè¿™ç§&amp;quot;æ€è€ƒè¿‡ç¨‹&amp;quot;æœ‰åŠ©äºæ¨¡å‹è¿›è¡Œæ›´å¤æ‚çš„æ¨ç†ï¼Œä½†åŒæ—¶ä¹Ÿå¼•å…¥äº†é¢å¤–çš„è®¡ç®—å’Œå†…å­˜å¼€é”€ã€‚&lt;/p>
&lt;p>åœ¨é»˜è®¤é…ç½®ä¸‹ï¼ŒQwen3æ¨¡å‹ä¼šå¯ç”¨æ€è€ƒæ¨¡å¼ï¼Œäº§ç”Ÿç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>&amp;lt;think&amp;gt;
é¦–å…ˆï¼Œæˆ‘éœ€è¦åˆ†æç”¨æˆ·çš„é—®é¢˜ï¼šå¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„æ–‡ä»¶è¯»å†™åŠŸèƒ½ã€‚
æˆ‘åº”è¯¥ä½¿ç”¨Pythonçš„å†…ç½®æ–‡ä»¶æ“ä½œåŠŸèƒ½ã€‚
åŸºæœ¬æ­¥éª¤åº”è¯¥æ˜¯ï¼š
1. æ‰“å¼€æ–‡ä»¶ï¼ˆå¯ä»¥ä½¿ç”¨withè¯­å¥è‡ªåŠ¨ç®¡ç†èµ„æºï¼‰
2. è¯»å–æˆ–å†™å…¥å†…å®¹
3. ç¡®ä¿æ–‡ä»¶æ­£ç¡®å…³é—­
&amp;lt;/think&amp;gt;
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„Pythonæ–‡ä»¶è¯»å†™ç¤ºä¾‹ï¼š
```python
# å†™å…¥æ–‡ä»¶
with open(&amp;#39;example.txt&amp;#39;, &amp;#39;w&amp;#39;) as file:
file.write(&amp;#39;Hello, World!&amp;#39;)
# è¯»å–æ–‡ä»¶
with open(&amp;#39;example.txt&amp;#39;, &amp;#39;r&amp;#39;) as file:
content = file.read()
print(content)
&lt;/code>&lt;/pre>&lt;pre tabindex="0">&lt;code>
### æ€è€ƒæ¨¡å¼å®ç°æœºåˆ¶
vLLMéƒ¨ç½²Qwen3æ¨¡å‹æ—¶ï¼Œæ€è€ƒæ¨¡å¼é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°æ§åˆ¶ï¼š
1. **æœåŠ¡å™¨çº§æ§åˆ¶**ï¼šé€šè¿‡éƒ¨ç½²å‚æ•°`--enable-reasoning`å’Œ`--reasoning-parser deepseek_r1`å¯ç”¨
2. **APIçº§æ§åˆ¶**ï¼šé€šè¿‡APIè°ƒç”¨ä¸­çš„`chat_template_kwargs`å‚æ•°æˆ–`enable_thinking`å‚æ•°åŠ¨æ€æ§åˆ¶
æˆ‘ä»¬çš„å‘ç°æ˜¯ï¼Œ**ä»…åˆ é™¤æœåŠ¡å™¨çº§åˆ«çš„å‚æ•°å¹¶ä¸è¶³å¤Ÿå®Œå…¨ç¦ç”¨æ€è€ƒæ¨¡å¼**ï¼Œæ¨¡å‹åœ¨æŸäº›æƒ…å†µä¸‹ä»ä¼šäº§ç”Ÿæ€è€ƒè¿‡ç¨‹ã€‚æ›´å½»åº•çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è‡ªå®šä¹‰èŠå¤©æ¨¡æ¿ã€‚
## ğŸ’¡ ç¦ç”¨æ€è€ƒæ¨¡å¼çš„æŠ€æœ¯å®ç°
### è‡ªå®šä¹‰èŠå¤©æ¨¡æ¿æ–¹æ¡ˆ
ç»è¿‡ç ”ç©¶Qwenå®˜æ–¹æ–‡æ¡£å’Œå®éªŒï¼Œæˆ‘ä»¬å‘ç°ä½¿ç”¨è‡ªå®šä¹‰èŠå¤©æ¨¡æ¿æ˜¯å®Œå…¨ç¦ç”¨æ€è€ƒæ¨¡å¼çš„æœ€å¯é æ–¹æ³•ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º`qwen3_nonthinking.jinja`çš„æ¨¡æ¿æ–‡ä»¶ï¼š
```jinja
{% if messages %}
{% set loop_messages = messages %}
{% else %}
{% set loop_messages = [{&amp;#39;role&amp;#39;: &amp;#39;system&amp;#39;, &amp;#39;content&amp;#39;: &amp;#39;&amp;#39;}] %}
{% endif %}
{% for message in loop_messages %}
{% if message[&amp;#39;role&amp;#39;] == &amp;#39;user&amp;#39; %}
&amp;lt;|im_start|&amp;gt;user
{{ message[&amp;#39;content&amp;#39;] }}&amp;lt;|im_end|&amp;gt;
{% elif message[&amp;#39;role&amp;#39;] == &amp;#39;assistant&amp;#39; %}
&amp;lt;|im_start|&amp;gt;assistant
{{ message[&amp;#39;content&amp;#39;] }}&amp;lt;|im_end|&amp;gt;
{% elif message[&amp;#39;role&amp;#39;] == &amp;#39;system&amp;#39; %}
&amp;lt;|im_start|&amp;gt;system
{{ message[&amp;#39;content&amp;#39;] }}&amp;lt;|im_end|&amp;gt;
{% endif %}
{% endfor %}
&amp;lt;|im_start|&amp;gt;assistant
{% if add_generation_prompt is defined and add_generation_prompt %}{{ generation_prompt }}{% endif %}
&lt;/code>&lt;/pre>&lt;p>è¿™ä¸ªæ¨¡æ¿çš„å…³é”®ç‚¹æ˜¯&lt;strong>ç§»é™¤äº†æ‰€æœ‰ä¸æ€è€ƒæ¨¡å¼ç›¸å…³çš„æ ‡ç­¾å’Œå¤„ç†é€»è¾‘&lt;/strong>ï¼Œç¡®ä¿æ¨¡å‹æ— æ³•ç”Ÿæˆ&lt;code>&amp;lt;think&amp;gt;...&amp;lt;/think&amp;gt;&lt;/code>å—ï¼Œå³ä½¿APIè¯·æ±‚ä¸­å°è¯•å¯ç”¨æ€è€ƒæ¨¡å¼ã€‚&lt;/p></description></item><item><title>AIè¾…åŠ©ç¼–ç¨‹å®æˆ˜ï¼šä»éœ€æ±‚åˆ°å®ç°çš„å®Œæ•´å¯¹è¯è®°å½•</title><link>https://jackypanster.github.io/ai-stream/posts/coding-with-ai/</link><pubDate>Tue, 03 Jun 2025 13:28:50 +0800</pubDate><guid>https://jackypanster.github.io/ai-stream/posts/coding-with-ai/</guid><description>&lt;h1 id="aiè¾…åŠ©ç¼–ç¨‹å®æˆ˜ä»éœ€æ±‚åˆ°å®ç°çš„å®Œæ•´å¯¹è¯è®°å½•">AIè¾…åŠ©ç¼–ç¨‹å®æˆ˜ï¼šä»éœ€æ±‚åˆ°å®ç°çš„å®Œæ•´å¯¹è¯è®°å½•&lt;/h1>
&lt;h2 id="å¼•è¨€">å¼•è¨€&lt;/h2>
&lt;p>æœ¬æ–‡çœŸå®è¿˜åŸäº†æˆ‘ä¸AIåŠ©æ‰‹åä½œå®ç°Dockeré•œåƒå¤§å°ç›‘æ§åŠŸèƒ½çš„å…¨è¿‡ç¨‹ã€‚é€šè¿‡è¿™æ¬¡å®è·µï¼Œå¯ä»¥çœ‹åˆ°AIä¸ä»…èƒ½è¾…åŠ©å¼€å‘è€…æ¢³ç†éœ€æ±‚ã€è®¾è®¡æ–¹æ¡ˆï¼Œè¿˜èƒ½åœ¨ä»£ç å®ç°ã€æ–‡æ¡£ç¼–å†™ç­‰ç¯èŠ‚æä¾›é«˜æ•ˆå¸®åŠ©ã€‚æ•´ä¸ªæµç¨‹è‡ªç„¶æµç•…ï¼Œæå¤§æå‡äº†å¼€å‘ä½“éªŒã€‚&lt;/p>
&lt;h2 id="1-éœ€æ±‚åˆ†æä¸æ–¹æ¡ˆè®¾è®¡">1. éœ€æ±‚åˆ†æä¸æ–¹æ¡ˆè®¾è®¡&lt;/h2>
&lt;h3 id="åˆå§‹éœ€æ±‚æè¿°">åˆå§‹éœ€æ±‚æè¿°&lt;/h3>
&lt;pre tabindex="0">&lt;code>ç”¨æˆ·ï¼š
æˆ‘ä»¬éœ€è¦åœ¨Jenkinså…±äº«åº“ä¸­å¢åŠ Dockeré•œåƒå¤§å°ç›‘æ§åŠŸèƒ½ï¼Œå½“é•œåƒè¶…è¿‡4GBæ—¶å‘å‡ºè­¦å‘Šã€‚è¯·å¸®å¿™åˆ†æä¸€ä¸‹å®ç°æ€è·¯ã€‚
&lt;/code>&lt;/pre>&lt;h3 id="aiçš„åˆæ­¥åˆ†æä¸å»ºè®®">AIçš„åˆæ­¥åˆ†æä¸å»ºè®®&lt;/h3>
&lt;pre tabindex="0">&lt;code>AIï¼š
è®©æˆ‘å…ˆçœ‹çœ‹é¡¹ç›®çš„ç»“æ„â€¦â€¦
è¿™æ˜¯ä¸€ä¸ªJenkinså…±äº«åº“é¡¹ç›®ï¼Œæ ¸å¿ƒä»£ç éƒ½åœ¨`vars/`ç›®å½•ã€‚é’ˆå¯¹é•œåƒå¤§å°ç›‘æ§ï¼Œæˆ‘å»ºè®®ç›´æ¥åœ¨`buildDocker`æ–¹æ³•é‡ŒåŠ é€»è¾‘ï¼š
1. é•œåƒæ„å»ºå®Œæˆåç”¨`du`å‘½ä»¤è·å–å¤§å°
2. ä¸4GBé˜ˆå€¼æ¯”è¾ƒ
3. è¶…è¿‡é˜ˆå€¼å°±è¾“å‡ºè­¦å‘Š
4. ç›¸å…³æŒ‡æ ‡å†™æ—¥å¿—ï¼Œæ–¹ä¾¿åç»­åˆ†æ
è¿™ä¸ªæ–¹æ¡ˆæ‚¨è§‰å¾—åˆé€‚å—ï¼Ÿæœ‰æ— è¡¥å……ï¼Ÿ
&lt;/code>&lt;/pre>&lt;h3 id="éœ€æ±‚ç¡®è®¤ä¸ç»†åŒ–">éœ€æ±‚ç¡®è®¤ä¸ç»†åŒ–&lt;/h3>
&lt;pre tabindex="0">&lt;code>ç”¨æˆ·ï¼š
è¿™ä¸ªæ€è·¯å¯ä»¥ï¼Œä¸è¿‡è¿˜éœ€è¦ï¼š
1. é˜ˆå€¼è¦å¯é…ç½®ï¼Œé»˜è®¤4GB
2. æ—¥å¿—é‡Œè¦æœ‰é•œåƒåã€å¤§å°ã€æ—¶é—´æˆ³ç­‰è¯¦ç»†ä¿¡æ¯
3. è¾“å‡ºä¼˜åŒ–å»ºè®®
å¦å¤–ï¼Œå¼‚å¸¸å¤„ç†ä¹Ÿè¦è€ƒè™‘å¾—æ›´ä¼˜é›…äº›ã€‚
&lt;/code>&lt;/pre>&lt;h2 id="2-ä»£ç å®ç°">2. ä»£ç å®ç°&lt;/h2>
&lt;h3 id="åˆå§‹ä»£ç å®ç°">åˆå§‹ä»£ç å®ç°&lt;/h3>
&lt;pre tabindex="0">&lt;code>AIï¼š
æ˜ç™½ï¼Œæˆ‘æ¥å®ç°ã€‚ä¼šåœ¨`buildDocker`æ–¹æ³•é‡Œï¼š
1. ç”¨`getEnvOrDefault`æ”¯æŒé˜ˆå€¼é…ç½®
2. è¯¦ç»†è®°å½•æŒ‡æ ‡
3. åŠ å¼ºé”™è¯¯å¤„ç†
4. è¾“å‡ºä¼˜åŒ–å»ºè®®
å®ç°é€»è¾‘æ‚¨çœ‹è¿˜æœ‰ä»€ä¹ˆè¦è°ƒæ•´çš„å—ï¼Ÿ
&lt;/code>&lt;/pre>&lt;h3 id="ä»£ç å®¡æŸ¥ä¸ä¼˜åŒ–">ä»£ç å®¡æŸ¥ä¸ä¼˜åŒ–&lt;/h3>
&lt;pre tabindex="0">&lt;code>ç”¨æˆ·ï¼š
æ•´ä½“ä¸é”™ï¼Œä¸è¿‡è­¦å‘Šè¦æ”¹æˆæŠ›å¼‚å¸¸ç›´æ¥ä¸­æ–­æ„å»ºã€‚å¦å¤–ï¼Œèƒ½ä¸èƒ½é¡ºä¾¿åŠ ä¸ŠåŸºç¡€é•œåƒå¤§å°æ£€æµ‹ï¼Ÿ
&lt;/code>&lt;/pre>&lt;h3 id="å¼‚å¸¸å¤„ç†ä¼˜åŒ–">å¼‚å¸¸å¤„ç†ä¼˜åŒ–&lt;/h3>
&lt;pre tabindex="0">&lt;code>AIï¼š
æ˜ç™½æ‚¨çš„éœ€æ±‚ï¼Œä»£ç æˆ‘ä¼šè¿™æ ·ä¼˜åŒ–ï¼š
1. è¶…æ ‡ç›´æ¥æŠ›å¼‚å¸¸ä¸­æ–­æµæ°´çº¿
2. å¢åŠ åŸºç¡€é•œåƒå¤§å°æ£€æµ‹
3. æ˜ç¡®åŒºåˆ†ä¸šåŠ¡å¼‚å¸¸ï¼ˆæ¯”å¦‚é•œåƒè¿‡å¤§ï¼‰å’ŒæŠ€æœ¯å¼‚å¸¸ï¼ˆæ¯”å¦‚å‘½ä»¤å¤±è´¥ï¼‰
åŸºç¡€é•œåƒæ£€æµ‹è¿™å—ï¼Œæˆ‘å»ºè®®ï¼š
- è§£æDockerfileçš„FROM
- æ‹‰å–å¹¶æ£€æµ‹åŸºç¡€é•œåƒå¤§å°
- è¶…é™å°±ç»™å‡ºalpineç­‰è½»é‡é•œåƒå»ºè®®
è¿™æ ·å¤„ç†æ‚¨è§‰å¾—OKå—ï¼Ÿ
&lt;/code>&lt;/pre>&lt;h2 id="3-æµ‹è¯•ä¸éªŒè¯">3. æµ‹è¯•ä¸éªŒè¯&lt;/h2>
&lt;h3 id="æµ‹è¯•æ–¹æ¡ˆè®¨è®º">æµ‹è¯•æ–¹æ¡ˆè®¨è®º&lt;/h3>
&lt;pre tabindex="0">&lt;code>ç”¨æˆ·ï¼š
æ€ä¹ˆéªŒè¯è¿™ä¸ªåŠŸèƒ½ï¼Ÿ
AIï¼š
å»ºè®®è¿™æ ·æµ‹è¯•ï¼š
1. é•œåƒå¤§å°æ­£å¸¸
2. æ°å¥½ç­‰äºé˜ˆå€¼
3. è¶…è¿‡é˜ˆå€¼
4. Dockerfileè§£æå¼‚å¸¸
ä¹Ÿå¯ä»¥ä¸´æ—¶æŠŠé˜ˆå€¼è°ƒå°ï¼Œå¿«é€ŸéªŒè¯å‘Šè­¦é€»è¾‘ã€‚
&lt;/code>&lt;/pre>&lt;h2 id="4-æ–‡æ¡£ä¸æ²Ÿé€š">4. æ–‡æ¡£ä¸æ²Ÿé€š&lt;/h2>
&lt;h3 id="å˜æ›´æ—¥å¿—ç”Ÿæˆ">å˜æ›´æ—¥å¿—ç”Ÿæˆ&lt;/h3>
&lt;pre tabindex="0">&lt;code>AIï¼š
æˆ‘å·²ä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†CHANGELOGï¼ŒåŒ…æ‹¬ï¼š
- åŠŸèƒ½è¯´æ˜
- æŠ€æœ¯å®ç°ç»†èŠ‚
- é…ç½®å‚æ•°è¯´æ˜
- åç»­ä¼˜åŒ–è®¡åˆ’
å¦‚éœ€è°ƒæ•´ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ã€‚
&lt;/code>&lt;/pre>&lt;h3 id="å›¢é˜Ÿé€šçŸ¥">å›¢é˜Ÿé€šçŸ¥&lt;/h3>
&lt;pre tabindex="0">&lt;code>ç”¨æˆ·ï¼š
è¦å‘ä¸ªé€šçŸ¥ç»™å›¢é˜Ÿï¼Œè¯´æ˜æˆ‘ä»¬è¦é™åˆ¶é•œåƒå¤§å°ã€‚
AIï¼š
å»ºè®®åˆ†é˜¶æ®µæ¨è¿›ï¼š
1. å…ˆç›‘æ§å’Œé€šçŸ¥
2. å†è¿›å…¥è­¦å‘ŠæœŸ
3. æœ€åå¼ºåˆ¶é™åˆ¶
è¿™æ ·å¤§å®¶æœ‰ç¼“å†²æœŸï¼Œå¯ä»¥é€æ­¥ä¼˜åŒ–Dockerfileã€‚éœ€è¦å¸®å¿™èµ·è‰é€šçŸ¥å—ï¼Ÿ
&lt;/code>&lt;/pre>&lt;h2 id="5-ç»éªŒæ€»ç»“">5. ç»éªŒæ€»ç»“&lt;/h2>
&lt;h3 id="æŠ€æœ¯æ”¶è·">æŠ€æœ¯æ”¶è·&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>AIè¾…åŠ©æ•ˆç‡&lt;/strong>&lt;/p></description></item></channel></rss>